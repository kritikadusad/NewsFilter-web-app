(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAADE0lEQVR42u3bMUgbURzHcYcOHTp0KNRuHTp06NCxY6Fjhw4dOnTo0KFDxw5dxYrVxEGsWAehOkiQIEGCFMlQREQkQ4YgQYJkCBIkSJAgQYJc+R2kpKV57y65l4vw/cNve7nc3Ye7e/e/u7EHyWR7PJHwc392ljhOZ18r2vdjYxMTHokx7AQAACAAAEAAAIAAAAABAAACAAAEAAAIAAAQAAAgAABAAACAAAAAAQAAAgAASqXRCJTs8fHAK/p6Y8P4H89WVgItJ7m/H3i9wyboOkQGEKbebm4OBPAukzEu//nqaqDl/CgUPFcVdB1iAaheXHi3p6YAiAtA9WV3F4A4AVrttvdwfh6AuABUqWIRgDgB+l1RACIEKJ6debcmJ0cS4FelcnPuAwapD9ksAK4A2tfX/gXXVPXLS+/uzAwALgCaV1fe51zOehR8OzwEwNUpSDdd5fNz4xgdKY8XFwFwAXAvkfD7N7bKnZwA4AKgc8OlDbLVq1QKgKgBniwt+WOeLi/7pxpT6VRl6xMBEBKge4d8z+etR4Eu2gA4AtD1oNFqGcdr5jQ+NwdAVABv0um/xn7a2bEeBdo5cQPUmk1/TNgEnc0NDUA7rHusWg+2aamq11OlUe8F9dUHGiaA8nJ93bohB9Vqz0eSAAwIoPwsl60b87/fagMBiABA50rbtFTn4TvT0wC4AFDUA7LV1709AFwBqAtqm5aqm/poYQEAFwDKx+1t60ZlSqU/44UxDIBCreYvK2zCtNZHAkDTUj0Zs9WLtTV/vHpL3IhFCKBo59qqVK/7WAA4AFD02qKtdLoK0/oAIASAzu22aaku2OonAeAAoPPCrK3UUTXNnAAYAEAzCN18DWMaCECPvN/aAiBOAM10NAcHICaAIHe7ADgGUNJHRwDECaBpqe2tOgAcAij6kAOAGAH0LCDstBSACAGCPAMGwDGAkj89BcAUdSh75d9Hiv1Ed8im/+hO0C8w1VMyLcf0bhJfyvOlPAEAAAIAAAQAAAgAABAAACAAAEAAAIAAAAABAAACAAAEAAAIADcgvwFOOv+zXllbbAAAAABJRU5ErkJggg=="},19:function(e,t,a){e.exports=a(35)},25:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);a(20),a(22),a(24),a(25);var n=a(0),l=a.n(n),r=a(15),s=a.n(r),i=a(6),c=a(7),o=a(9),m=a(8),d=a(10),u=a(2),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={status:"good",title:a.props.title,trigger_words:""},a.handleTriggerWordChange=a.handleTriggerWordChange.bind(Object(u.a)(Object(u.a)(a))),a.handleTriggerSubmit=a.handleTriggerSubmit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleTriggerWordChange",value:function(e){this.setState({trigger_words:e.target.value})}},{key:"handleTriggerSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Sending trigger update to server article: "+this.state.title+" words:"+this.state.trigger_words),fetch("http://localhost:5000/trigger-update",{method:"POST",body:JSON.stringify({trigger_article:this.state.title,trigger_words:this.state.trigger_words})}).then(function(e){return t.setState({status:"bad"})}),console.log("Done trigger update")}},{key:"render",value:function(){return"bad"===this.state.status?l.a.createElement("div",null):l.a.createElement("div",{className:"card flex-md-row mt-4 h-md-250 bg-light"},l.a.createElement("div",{className:"col-md-9"},l.a.createElement("div",{className:"card-body d-flex flex-column align-items-start"},l.a.createElement("h4",{className:"mb-0"},l.a.createElement("a",{href:this.props.url,target:"_black",className:"text-dark"},this.props.title)),l.a.createElement("p",{className:"card-text"},this.props.description),l.a.createElement("div",{className:"btn-group"},l.a.createElement("button",{type:"button",class:"btn btn-sm dropdown-toggle nf-btn","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),l.a.createElement("div",{class:"dropdown-menu"},l.a.createElement("form",{class:"form-inline dropdown-item",onSubmit:this.handleTriggerSubmit},l.a.createElement("label",{class:"sr-only",for:"inlineFormInputName2"},"Name"),l.a.createElement("input",{type:"text",class:"form-control mb-2 mr-sm-2",id:"inlineFormInputName2",onChange:this.handleTriggerWordChange,value:this.state.trigger_words,placeholder:"Trigger topics"}),l.a.createElement("button",{type:"submit",class:"btn btn-sm mb-2 nf-btn"},"Submit")))))),l.a.createElement("div",{className:"col-md-3 mt-4 mb-4"},l.a.createElement("img",{className:"card-img-right flex-auto d-none d-md-block p-1 mx-auto",src:this.props.urlToImage,alt:""})))}}]),t}(n.Component),h=a(38),b=a(37),A=a(36),E=a(16),f=a.n(E),p=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={status:"",articles:[],logged_user:a.props.logged_user,search:""},a.handleSearchChange=a.handleSearchChange.bind(Object(u.a)(Object(u.a)(a))),a.logOut=a.logOut.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleSearchChange",value:function(e){this.setState({search:e.target.value})}},{key:"logOut",value:function(e){var t=this;console.log("Logging out"),fetch("http://localhost:5000/logout").then(function(e){return e.json()}).then(function(e){return t.setState({status:e})}).catch(function(e){return console.log("There has been a problem with your fetch operation: ",e.message)})}},{key:"componentDidMount",value:function(){this.fetchNews("world")}},{key:"fetchNews",value:function(e){var t=this;console.log("article list fetched"),fetch("http://localhost:5000/filtered-news",{method:"POST",body:JSON.stringify({option:e,user_email:this.props.logged_user,search:this.state.search})}).then(function(e){return e.json()}).then(function(e){return t.setState({articles:e})}).catch(function(e){return console.log("There has been a problem with your fetch operation: ",e.message)})}},{key:"render",value:function(e){var t=this;if(console.log(this.state),"logged out"===this.state.status)return l.a.createElement(w,null);var a=[],n=l.a.createElement("div",null);if(this.state.articles&&this.state.articles.length>0){console.log(typeof a);var r=!0,s=!1,i=void 0;try{for(var c,o=this.state.articles[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var m=c.value;a.push(m)}}catch(d){s=!0,i=d}finally{try{r||null==o.return||o.return()}finally{if(s)throw i}}n=l.a.createElement("div",null,a.map(function(e){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2"}),l.a.createElement("div",{className:"col-md-8"},l.a.createElement(g,{key:e.title,title:e.title,description:e.description,url:e.url,urlToImage:e.urlToImage})),l.a.createElement("div",{className:"col-md-2"}))}))}return l.a.createElement("div",{className:"article-body"},l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNewsFilter","aria-controls":"navbarNewsFilter","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNewsFilter"},l.a.createElement("img",{src:f.a,height:"30",hspace:"5",className:"d-inline-block align-top",alt:""}),l.a.createElement("a",{href:"/",className:"navbar-brand"},"NewsFilter"),l.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{className:"nav-link active",to:"/newsarticle",onClick:function(){t.fetchNews("world")}},"World")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{className:"nav-link",to:"/newsarticle",onClick:function(){t.fetchNews("technology")}},"Technology")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{className:"nav-link",to:"/newsarticle",onClick:function(){t.fetchNews("politics")}},"Politics")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{className:"nav-link",to:"/newsarticle",onClick:function(){t.fetchNews("sports")}},"Sports")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{className:"nav-link",to:"/newsarticle",onClick:function(){t.fetchNews("guardian")}},"The Guardian")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{className:"nav-link",to:"/newsarticle",onClick:function(){t.fetchNews("nyt")}},"NY Times")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("form",{className:"form-inline dropdown-item",onSubmit:function(){t.fetchNews("google-news")}},l.a.createElement("label",{className:"sr-only",for:"inlineFormInputName2"},"Name"),l.a.createElement("input",{type:"text",class:"form-control mb-2 mr-sm-2",id:"inlineFormInputName2",onChange:this.handleSearchChange,value:this.state.search,placeholder:"Search content"}),l.a.createElement("button",{type:"submit",className:"btn btn-sm mb-2 nf-btn"},"Submit")))),l.a.createElement("form",{className:"form-inline my-2 my-lg-0"},l.a.createElement("button",{className:"btn my-2 my-sm-0 nf-btn",onClick:this.logOut},"Log Out")))),l.a.createElement("main",{role:"main"},l.a.createElement("div",{className:"content"},l.a.createElement(A.a,{path:"/newsarticle"}))))),l.a.createElement("div",{className:"article-container"},n))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={status:"register form",email:"",password:"",triggers:""},a.handleEmailChange=a.handleEmailChange.bind(Object(u.a)(Object(u.a)(a))),a.handlePasswordChange=a.handlePasswordChange.bind(Object(u.a)(Object(u.a)(a))),a.handleTriggerChange=a.handleTriggerChange.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleTriggerChange",value:function(e){this.setState({triggers:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Sending details from registration form"),fetch("http://localhost:5000/register",{method:"POST",body:JSON.stringify({email:this.state.email,password:this.state.password,triggers:this.state.triggers})}).then(function(e){return e.json()}).then(function(e){return t.setState({status:e})})}},{key:"render",value:function(){if("successfully added"===this.state.status)return l.a.createElement(w,null);var e="";return e="user already registered."===this.state.status?"Email already in use. Please try again.":"Please register here",l.a.createElement("div",null,l.a.createElement("div",{className:"login-background-image"}),l.a.createElement("div",{className:"register-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"col-md-2"}),l.a.createElement("div",{className:"col-md-4 register-message"},l.a.createElement("h1",null,"NewsFilter"),l.a.createElement("h5",null,"Makes reading news a pleasant experience.",l.a.createElement("br",null),"You can set your preferences and tag unwanted ",l.a.createElement("br",null)," news articles.")),l.a.createElement("div",{className:"col-md-1"}),l.a.createElement("div",{className:"card col-md-3 register-card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{className:"form-signin form-register",onSubmit:this.handleSubmit},l.a.createElement("h4",{className:"mb-3 font-weight-normal text-center"},e),l.a.createElement("label",{for:"inputEmail",className:"sr-only"},"Email address"),l.a.createElement("input",{type:"email",value:this.state.email,onChange:this.handleEmailChange,className:"form-control",placeholder:"Email address",required:!0,autofocus:!0}),l.a.createElement("label",{for:"inputPassword",className:"sr-only"},"Password"),l.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handlePasswordChange,className:"form-control",placeholder:"Password",required:!0}),l.a.createElement("label",{for:"inputTriggers",className:"sr-only"},"Triggers"),l.a.createElement("input",{type:"triggers",value:this.state.triggers,onChange:this.handleTriggerChange,className:"form-control",placeholder:"Triggers",required:!0}),l.a.createElement("button",{className:"btn btn-lg btn-block nf-btn",type:"submit",value:"Submit"},"Create Account")))),l.a.createElement("div",{className:"col-md-2"}))))}}]),t}(n.Component),N=a(34),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={status:"init",email:"",password:""},a.handleEmailChange=a.handleEmailChange.bind(Object(u.a)(Object(u.a)(a))),a.handlePasswordChange=a.handlePasswordChange.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Sending request to server"),fetch("http://localhost:5000/logged-in",{method:"POST",body:JSON.stringify({email:this.state.email,password:this.state.password})}).then(function(e){return e.json()}).then(function(e){return t.setState({status:e})}),console.log(this.state.status)}},{key:"render",value:function(){var e=this;if("success"===this.state.status)return l.a.createElement(p,{logged_user:this.state.email});if("register"===this.state.status)return l.a.createElement(v,null);var t="";return t="init"===this.state.status?"Please sign in":"successfully added"===this.state.status?"Successfully registered, please sign in":"Incorrect details",l.a.createElement("div",null,l.a.createElement("div",{className:"login-background-image"}),l.a.createElement("div",{className:"login-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"col-md-2"}),l.a.createElement("div",{className:"col-md-4 login-message"},l.a.createElement("h1",null,"NewsFilter"),l.a.createElement("h5",null,"Makes reading news a pleasant experience.",l.a.createElement("br",null),"You can set your preferences and tag unwanted ",l.a.createElement("br",null)," news articles.")),l.a.createElement("div",{className:"col-md-1"}),l.a.createElement("div",{className:"card col-md-3 login-card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{className:"form-signin",onSubmit:this.handleSubmit},l.a.createElement("h1",{className:"h3 mb-3 font-weight-normal text-center"},t),l.a.createElement("label",{for:"inputEmail",className:"sr-only"},"Email address"),l.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleEmailChange,className:"form-control",placeholder:"Email address",required:!0,autofocus:!0}),l.a.createElement("label",{for:"inputPassword",className:"sr-only"},"Password"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handlePasswordChange,className:"form-control",placeholder:"Password",required:!0}),l.a.createElement("button",{className:"btn btn-lg btn-block nf-btn",type:"submit",value:"Submit"},"Sign in"),l.a.createElement(h.a,null,l.a.createElement("p",{className:"mt-5 mb-3 text-center"},l.a.createElement(A.a,{path:"/register"}),l.a.createElement(N.a,{to:"/register",onClick:function(){e.setState({status:"register"})}},"Create new account")))),l.a.createElement("footer",{className:"mt-5 mb-3 text-muted text-center"},"Powered by ",l.a.createElement("a",{href:"http://newsapi.org",target:"_blank",rel:"noopener noreferrer"},"NewsAPI")))),l.a.createElement("div",{className:"col-md-2"}))))}}]),t}(n.Component);s.a.render(l.a.createElement(w,null),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.e24843c2.chunk.js.map